(this.webpackJsonpmusicfy=this.webpackJsonpmusicfy||[]).push([[0],{35:function(e,t,a){e.exports=a(50)},50:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(31),l=a.n(c),s=a(15),o=a(9),i=localStorage.getItem("uid"),m=function(e){var t=i||e.loggedUser;return r.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{class:"navbar-nav"},r.a.createElement(s.b,{to:"/",className:"nav-item nav-link active text-white"},"Home ",r.a.createElement("span",{class:"sr-only"},"(current)")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/profile",className:"nav-item nav-link text-white"},"Profile"),r.a.createElement("button",{onClick:function(){localStorage.removeItem("uid"),e.loggedHandler(!1)},className:"text-white btn btn-link"},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/login",className:"nav-item nav-link text-white"},"Login"),r.a.createElement(s.b,{to:"/register",className:"nav-item nav-link text-white"},"Register"))))},u=function(){return r.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{class:"navbar-toggler-icon"}))},d=r.a.createContext(),p=function(){var e=Object(n.useContext)(d);console.log(e);return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-dark"},r.a.createElement("h1",{class:"navbar-brand text-white"},"MusicFy"),r.a.createElement(u,null),r.a.createElement(d.Provider,{value:e},r.a.createElement(m,{loggedUser:e[0],loggedHandler:function(){e[1](!1)}.bind(void 0)})))},f=a(11),v=a.n(f),g=a(17),b=a(18);a(48);b.a.initializeApp({apiKey:"AIzaSyCGm6JgryoNk6JRL5ZgKIioPcoh3HEzMJs",authDomain:"musicfy-533e5.firebaseapp.com",databaseURL:"https://musicfy-533e5.firebaseio.com",projectId:"musicfy-533e5",storageBucket:"musicfy-533e5.appspot.com",messagingSenderId:"54124704725",appId:"1:54124704725:web:2a6cb562b11d2cbe02835c"});b.a;var E=r.a.createContext({}),h=a(34),x=a(28),w=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.firestore().collection("favorites").orderBy("userId").startAt(t).get();case 2:return a=e.sent,n=a.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}))[0],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(h.a)(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=12;break}return c=r.value,e.next=8,b.a.firestore().collection("songs").doc(c).get().then((function(e){return e.data()}));case 8:l=e.sent,a.push(l);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:return e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),j={getAll:function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.firestore().collection("songs").get();case 2:return t=(t=e.sent).docs.map((function(e){return Object(x.a)({id:e.id},e.data())})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFavoritesUser:function(){var e=Object(g.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return a=e.sent,e.next=5,y(a.songs);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addFavorite:function(){var e=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return(n=e.sent).songs.push(a),e.next=6,b.a.firestore().collection("favorites").doc(n.id).set({userId:n.userId,songs:n.songs});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},N=localStorage.getItem("uid"),O=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(0),i=Object(o.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(6),p=Object(o.a)(d,2),f=p[0],b=p[1],h=Object(n.useContext)(E);Object(n.useEffect)((function(){j.getAll().then((function(e){l(e)}))}),[]);var x=function(e){var t=JSON.parse(e.target.value);h[1](t)},w=function(){var e=Object(g.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,!N){e.next=4;break}return e.next=4,j.addFavorite(N,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=c.slice(m,f);return r.a.createElement("div",null,r.a.createElement("div",{className:"row mt-3"},y.map((function(e){var t=JSON.stringify({name:e.name,link:e.youtubeLink});return r.a.createElement("div",{key:e.id,className:"col-lg-4 flex-wrap"},r.a.createElement("h2",{className:"text-dark"},e.name),r.a.createElement("img",{className:"w-50 h-50",src:e.image}),r.a.createElement("div",{className:"row m-2 align-items-center"},r.a.createElement("button",{className:"m-auto btn btn-primary",value:t,onClick:x.bind(void 0)},"Play")),r.a.createElement("div",{className:"row m-2 align-items-center"},r.a.createElement("button",{onClick:w,value:e.id,className:"text-uppercase m-auto mb-3 btn btn-danger"},"add to favorites")))}))),r.a.createElement("nav",{className:"mt-4 nav justify-content-center"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){0===m&&6===f||(u(m-6),b(f-6))}},"Previous")),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){f<c.length&&(u(f),b(f+6))}},"Next")))))},k=(a(49),a(8)),S={register:function(){var e=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().createUserWithEmailAndPassword(t,a);case 2:return n=e.sent,e.abrupt("return",n.user||!1);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),login:function(){var e=Object(g.a)(v.a.mark((function e(t,a){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.auth().signInWithEmailAndPassword(t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},C=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],p=m[1],f=Object(n.useContext)(d);return r.a.createElement("div",{id:"login"},r.a.createElement("h3",{class:"text-center text-white pt-5"},"Login form"),r.a.createElement("div",{class:"container"},r.a.createElement("div",{id:"login-row",class:"row justify-content-center align-items-center"},r.a.createElement("div",{id:"login-column",class:"col-md-6"},r.a.createElement("div",{id:"login-box",class:"col-md-12"},r.a.createElement("h3",{class:"text-center text-info"},"Login"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"email",class:"text-info"},"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Enter your email",onChange:function(e){l(e.target.value)},class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"password",class:"text-info"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",onChange:function(e){p(e.target.value)},class:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{type:"button",name:"login",className:"btn btn-info btn-md",onClick:function(){S.login(c,u).then((function(t){localStorage.setItem("uid",t.user.uid),f[1](!0),e.history.push("/")}))}.bind(void 0)},"Login")),r.a.createElement("div",{id:"register-link",class:"text-right"},r.a.createElement(s.b,{to:"/register",class:"text-info"},"Register here")))))))},I=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),v=f[0],g=f[1];return r.a.createElement("div",{id:"register"},r.a.createElement("h3",{className:"text-center text-white pt-5"},"Register form"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"register-row",className:"row justify-content-center align-items-center"},r.a.createElement("div",{id:"register-column",class:"col-md-6"},r.a.createElement("div",{id:"register-box",class:"col-md-12"},r.a.createElement("h3",{class:"text-center text-info"},"Register"),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"email",class:"text-info"},"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",id:"email",placeholder:"Enter Your email",value:c,onChange:function(e){l(e.target.value)},className:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"password",class:"text-info"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Enter your password",value:u,onChange:function(e){d(e.target.value)},className:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"confirmPassword",class:"text-info"},"Confirm Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Enter your confirm password",value:v,onChange:function(e){g(e.target.value)},className:"form-control"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"remember-me",class:"text-info"},r.a.createElement("span",null,"Remember me"),"\xa0",r.a.createElement("span",null,r.a.createElement("input",{id:"remember-me",name:"remember-me",type:"checkbox"}))),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",onClick:function(t){u===v&&S.register(c,u).then((function(t){console.log(e),e.history.push("/login")}))}.bind(void 0),className:"btn btn-info btn-md"},"Register")),r.a.createElement("div",{id:"register-link",class:"text-right"},r.a.createElement(s.b,{to:"/login",class:"text-info"},"Login here")))))))},P=localStorage.getItem("uid"),A=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){j.getFavoritesUser(P).then((function(e){c(e)}))}),[]),a?r.a.createElement("div",{className:"row py-5 px-4"},r.a.createElement("div",{className:"col-md-5 mx-auto"},r.a.createElement("div",{className:"bg-dark w-100 shadow rounded overflow-hidden"},r.a.createElement("div",{className:"px-4 pt-0 pb-4 cover"},r.a.createElement("div",{className:"media align-items-end profile-head"},r.a.createElement("div",{className:"profile mr-3"},r.a.createElement("img",{src:"https://img.favpng.com/10/14/2/avatar-computer-icons-user-profile-business-png-favpng-uVq05zLDgFqFDHD2EF87qrVMA.jpg",alt:"avatar",width:"130",className:"rounded mb-2 img-thumbnail"})))),r.a.createElement("div",{className:"py-4 px-4"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between mb-3"},r.a.createElement("h5",{className:"mb-0 text-white"},"Favorites songs")),r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement("div",{key:e.name,className:"col-lg-6 mb-2 pr-lg-1"},r.a.createElement("img",{src:e.image,alt:"song avatar",className:"img-fluid rounded shadow-sm"}))}))))))):r.a.createElement("div",null,"Loading...")},F=function(e){var t=Object(n.useContext)(E),a=Object(n.useState)(t[0]),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)("no-video"),f=Object(o.a)(p,2),v=f[0],g=f[1];return Object(n.useEffect)((function(){var e=t[0],a=e.link,n=e.name;s(a+"?autoplay=1"),d(n),n&&g("video")}),[t,u]),r.a.createElement("div",{class:"container-audio"},r.a.createElement("h1",null,"You are currently listening: ",u),r.a.createElement("div",{className:v},r.a.createElement("div",{className:"video"},r.a.createElement("iframe",{width:"560",height:"315",src:l,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))))},L=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],m=s[1];return r.a.createElement("div",{className:"App"},r.a.createElement(E.Provider,{value:[a,c]},r.a.createElement(d.Provider,{value:[i,m]},r.a.createElement(p,null),r.a.createElement(F,{link:a}),r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/",component:O,linkSong:c}),r.a.createElement(k.a,{path:"/login",component:C}),r.a.createElement(k.a,{path:"/register",component:I}),r.a.createElement(k.a,{path:"/profile",component:A})))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(L,null))),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.72c8b3d3.chunk.js.map